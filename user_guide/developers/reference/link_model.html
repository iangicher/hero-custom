<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<title>Link Model | Hero User Guide</title>
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
		<script type="text/javascript" src="./../../js/shCore.js"></script>
		<script type="text/javascript" src="./../../js/shBrushPhp.js"></script>
		<script type="text/javascript" src="./../../js/shBrushXml.js"></script>
		<script type="text/javascript" src="./../../js/user_guide.js"></script>
		<link href="./../../css/user_guide.css" media="screen" rel="stylesheet" type="text/css" />
		<link href="./../../css/shCore.css" media="screen" rel="stylesheet" type="text/css" />
		<link href="./../../css/shThemeDefault.css" media="screen" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<div class="header">
			Hero <span class="sub">/ User Guide</span>
		</div>
		<div class="body">
			<div id="navigation">
				<ul>
					<li>
						<a rel="basic" class="parent" href="#">Basic Details</a>
						<ul>
							<li>
								<a href="./../../index.html">Welcome to Hero</a>
							</li>
							<li>
								<a href="./../../license.html">License Agreement</a>
							</li>
							<li>
								<a href="./../../changelog.html">Changelog</a>
							</li>
						</ul>
					</li>
					<li>
						<a rel="installation" class="parent" href="#">Installation</a>
						<ul>
							<li>
								<a href="./../../installation/server_requirements.html">Server Requirements</a>
							</li>
							<li>
								<a href="./../../installation/installation.html">Fresh Installation</a>
							</li>
							<li>
								<a href="./../../installation/upgrading.html">Upgrading</a>
							</li>
							<li>
								<a href="./../../installation/migration.html">Migration</a>
							</li>
							<li>
								<a href="./../../installation/troubleshooting.html">Troubleshooting</a>
							</li>
							<li>
								<a href="./../../installation/deployment.html">Mass Deployment</a>
							</li>
						</ul>
					</li>
					<li>
						<a rel="configuration" class="parent" href="#">Configuration</a>
						<ul>
							<li>
								<a href="./../../configuration/settings.html">Settings</a>
							</li>
							<li>
								<a href="./../../configuration/coupon_codes.html">Coupon Codes</a>
							</li>
							<li>
								<a href="./../../configuration/branding.html">Custom Branding</a>
							</li>
							<li>
								<a href="./../../configuration/custom_fields.html">Custom Fields</a>
							</li>
							<li>
								<a href="./../../configuration/emails.html">Emails</a>
							</li>
							<li>
								<a href="./../../configuration/importing_members.html">Importing Members</a>
							</li>
							<li>
								<a href="./../../configuration/member_groups.html">Member Groups</a>
							</li>
							<li>
								<a href="./../../configuration/payment_gateways.html">Payment Gateways</a>
							</li>
							<li>
								<a href="./../../configuration/reports.html">Reports</a>
							</li>
							<li>
								<a href="./../../configuration/search.html">Search</a>
							</li>
							<li>
								<a href="./../../configuration/security.html">Security</a>
							</li>
							<li>
								<a href="./../../configuration/shipping.html">Shipping Rates</a>
							</li>
							<li>
								<a href="./../../configuration/subscriptions.html">Subscriptions</a>
							</li>
							<li>
								<a href="./../../configuration/taxes.html">Taxes</a>
							</li>
							<li>
								<a href="./../../configuration/advanced.html">Advanced</a>
							</li>
						</ul>
					</li>
					<li>
						<a rel="publishing" class="parent" href="#">Publishing</a>
						<ul>
							<li><a href="./../../publishing/blogs.html">Blogs</a></li>
							<li><a href="./../../publishing/content.html">Content &amp; Content Types</a></li>
							<li><a href="./../../publishing/forms.html">Forms</a></li>
							<li><a href="./../../publishing/menus.html">Navigation Menus</a></li>
							<li><a href="./../../publishing/rss_feeds.html">RSS Feeds</a></li>
							<li><a href="./../../publishing/store.html">Store Products &amp; Collections</a>
							<li><a href="./../../publishing/topics.html">Topics</a></li>
						</ul>
					</li>
					<li>
						<a rel="designers" class="parent" href="#">Designing</a>
						<ul>
							<li><a href="./../../designers/index.html">Designer Introduction</a></li>
							<li><a href="./../../designers/smarty.html">Smarty Template Engine</a></li>
							<li><a href="./../../designers/includes.html">Stylesheets &amp; JavaScript</a></li>
							<li><a href="./../../designers/template_plugins.html">Template Plugins</a></li>
							<li><a href="./../../designers/mapping_urls.html">Mapping URL's</a></li>
							<li class="reference">Reference</li>
							<li class="reference"><a href="./../../designers/reference/global_variables.html">Global Variables</a></li>
							<li class="reference"><a href="./../../designers/reference/global_plugins.html">Global Plugins</a></li>
							<li class="reference"><a href="./../../designers/reference/blogs.html">Blogs &amp; Archives</a></li>
							<li class="reference"><a href="./../../designers/reference/custom_fields.html">Custom Fields</a></li>
							<li class="reference"><a href="./../../designers/reference/forms.html">Forms</a></li>
							<li class="reference"><a href="./../../designers/reference/members.html">Members</a></li>
							<li class="reference"><a href="./../../designers/reference/menus.html">Navigation Menus</a></li>
							<li class="reference"><a href="./../../designers/reference/paywall_privileges.html">Access Restrictions &amp; Paywalls</a></li>
							<li class="reference"><a href="./../../designers/reference/publish.html">Published Content &amp; Topics</a></li>
							<li class="reference"><a href="./../../designers/reference/rss_feeds.html">RSS Feeds</a></li>
							<li class="reference"><a href="./../../designers/reference/search.html">Search Forms &amp; Results</a></li>
							<li class="reference"><a href="./../../designers/reference/store.html">Store Products &amp; Collections</a></li>
							<li class="reference"><a href="./../../designers/reference/subscriptions.html">Subscriptions</a></li>
							<li class="reference"><a href="./../../designers/reference/custom_fields.html">Custom Fields</a></li>
						</ul>
					</li>
					<li>
						<a rel="developers" class="parent active" href="#">Developing</a>
						<ul>
							<li><a href="./../../developers/index.html">Developer Introduction</a></li>
							<li><a href="./../../developers/codeigniter.html">CodeIgniter</a></li>
							<li><a href="./../../developers/standards.html">Standards &amp; Best Practices</a></li>
							<li><a href="./../../developers/security.html">Security</a></li>
							<li><a href="./../../developers/modules.html">Module Development</a></li>
							<li><a href="./../../developers/template_plugins.html">Template Plugin Development</a></li>
							<li><a href="./../../developers/cronjobs.html">Cronjobs &amp; Automated Processes</a></li>
							<li><a href="./../../developers/forms.html">Forms &amp; Custom Fieldtypes</a></li>
							<li><a href="./../../developers/errors_logging.html">Errors &amp; Logging</a></li>
							<li><a href="./../../developers/profiling.html">Debug/Profile Mode</a></li>
							<li class="reference">Reference</li>
							<li class="reference"><a href="./../../developers/reference/admin_form_library.html">Admin Form Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/admin_navigation_library.html">Admin Navigation Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/app_hooks_library.html">App Hooks Library</a></li>
							<li class="reference"><a href="./../../developers/reference/array_to_csv_library.html">Array to CSV Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/array_to_json_helper.html">Array to JSON Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/blog_model.html">Blog Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/cart_model.html">Cart Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/clean_string_helper.html">Clean String Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/collections_model.html">Collections Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/content_model.html">Content Model</a></li>
							<li class="reference"><a href="./../../developers/reference/content_type_model.html">Content Type Model</a></li>  
							<li class="reference"><a href="./../../developers/reference/coupon_model.html">Coupon Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/custom_fields_model.html">Custom Fields Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/dataset_library.html">Dataset Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/email_model.html">Email Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/fieldtype_library.html">Fieldtype Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/form_builder_library.html">Form Builder Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/form_model.html">Form Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/image_thumb_helper.html">Image Thumb Helper</a></li>
							<li class="reference"><a href="./../../developers/reference/invoice_model.html">Invoice Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/head_assets_library.html">Head Assets Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/link_model.html">Link Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/login_model.html">Login Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/menu_model.html">Menu Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/notices_library.html">Notices Library</a></li>
							<li class="reference"><a href="./../../developers/reference/order_model.html">Order Model</a></li>  
							<li class="reference"><a href="./../../developers/reference/products_model.html">Products Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/usergroup_model.html">Usergroup Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/product_option_model.html">Product Option Model</a></li>
							<li class="reference"><a href="./../../developers/reference/rss_model.html">RSS Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/setting_helper.html">Setting Helper</a></li>
							<li class="reference"><a href="./../../developers/reference/settings_model.html">Settings Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/shipping_model.html">Shipping Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/states_model.html">States Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/stats_library.html">Stats Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/subscription_model.html">Subscription Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/subscription_plan_model.html">Subscription Plan Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/taxes_model.html">Taxes Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/template_files_helper.html">Template Files Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/theme_model.html">Theme Model</a></li>
							<li class="reference"><a href="./../../developers/reference/time_since_helper.html">Time Since Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/topic_model.html">Topic Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/url_helper.html">URL Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/user_model.html">User Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/usergroup_model.html">Usergroup Model</a></li> 
						</ul>
						
					</li>
				</ul>
			</div>
			<div id="content">
				<h1>Link Model</h1>

<p>The link model stores all non-automatic (i.e., non-module-based) URLs and maps them to modules, classes, methods, and sometimes even directly to templates.  Once you register a URL with <span class="code">new_link()</span> successfully, you are securing a unique URL in the system.</p>

<p>On top of mapping a URL to your method/template/etc., you are also making your link available to be used in <a href="./../../publishing/menus.html">the Menu Manager for drag and drop menu building</a>.</p>

<p>Most calls to this model will be internal, but new modules may use it.</p>

<h2>Initialization</h2>

<pre class="code brush: php">

$this-&gt;load-&gt;library('link_model');
// method call: $this-&gt;link_model-&gt;delete_link(44);

</pre>

<h2>Method Reference</h2>

<h3 class="method"><span class="return_type">int</span> <span class="method_name">new_link</span> <span class="arguments">(string <span class="variable">$url_path</span> , array|boolean <span class="variable">$topics</span> , string <span class="variable">$title</span> , string <span class="variable">$type_name</span> , string <span class="variable">$module</span> , string <span class="variable">$controller</span> , string <span class="variable">$method</span> [, string <span class="variable">$parameter</span> = ''])</span></h3>

<p>Register a link in the system.  It will automatically be prepped (all non-URL characters replaced/removed) and made unique by this model's methods.  For example, if you submit the URL path of "mickey_mouse" and there is another item of this type, it will automatically be saved as "mickey_mouse_2".</p>

<p>Thus, to know exactly what URL path was saved, you can either call <span class="code">get_unique_url_path()</span> yourself prior to this method, or look up the link using the returned <span class="code">$link_id</span> afterwards.</p>

<p>Standard URL's without a parameter are routed like so:</p>

<pre class="code brush: php">

$module/$controller/$method/$url_path

</pre>

<p>URL's registered with a parameter are routed like:</p>

<pre class="code brush: php">

$module/$controller/$method/$parameter

</pre>

<p>Examples:</p>

<pre class="code brush: php">

$this-&gt;load-&gt;library('link_model');

// map a URL directly to my new module (and controller of same name)
$this-&gt;link_model-&gt;new_link('my_test_article', array(1001, 1002), 'My Test Article', 'Article', 'articles', 'articles', 'view');
// routes example.com/my_test_article to articles/articles/view/my_test_article

// map a URL directly to a template via the &quot;theme&quot; module (this is standard in Hero)
$this-&gt;link_model-&gt;new_link('straight_to_template', FALSE, 'My Test Template', 'Template', 'theme', 'template', 'view', 'my_template.thtml');
// routes example.com/my_test_article to articles/articles/view/my_test_article

</pre>

<h3 class="method"><span class="return_type">string</span> <span class="method_name">get_unique_url_path</span> <span class="arguments">(string <span class="variable">$url_path</span>)</span></h3>

<p>Given a URL path, it will return a URL path that is definitely unique in the system, by sequentially adding "_2", "_3", "_4", etc. to the end of the path.</p>

<h3 class="method"><span class="return_type">array</span> <span class="method_name">get_links</span> <span class="arguments">(array <span class="variable">$filters</span> = FALSE)</span></h3>

<p>Return an array of links matching the <span class="code">$filters</span> criteria, if it exists.</p>

<p>Possible filters:</p>

<ul>
<li>string <strong>url_path</strong></li>
<li>string <strong>parameter</strong></li>
<li>string <strong>sort</strong></li>
<li>string <strong>sort_dir</strong></li>
<li>int <strong>offset</strong></li>
<li>int <strong>limit</strong></li>
</ul>

<h3 class="method"><span class="return_type">boolean</span> <span class="method_name">delete_link</span> <span class="arguments">(int <span class="variable">$link_id</span>)</span></h3>

<p>Delete a link from the system.</p>

<h3 class="method"><span class="return_type">boolean</span> <span class="method_name">update_title</span> <span class="arguments">(int <span class="variable">$link_id</span> , string <span class="variable">$title</span>)</span></h3>

<p>Update a title associated with a link.</p>

<h3 class="method"><span class="return_type">boolean</span> <span class="method_name">update_url</span> <span class="arguments">(int <span class="variable">$link_id</span> , string <span class="variable">$url_path</span>)</span></h3>

<p>Update the url_path associated with a link (this is not checked for unique-ness).</p>

<h3 class="method"><span class="return_type">boolean</span> <span class="method_name">update_topics</span> <span class="arguments">(int <span class="variable">$link_id</span> , array <span class="variable">$topics</span>)</span></h3>

<p>Update the topics array associated with a link.</p>

<h3 class="method"><span class="return_type">string</span> <span class="method_name">prep_url_path</span> <span class="arguments">(string <span class="variable">$url_path</span>)</span></h3>

<p>Remove/replace all characters that are not appropriate for a URL path.</p>

<h3 class="method"><span class="return_type">boolean</span> <span class="method_name">is_unique</span> <span class="arguments">(string <span class="variable">$url_path</span>)</span></h3>

<p>Is the URL path being passed unique or already in the system?</p>

<h3 class="method"><span class="return_type">boolean</span> <span class="method_name">gen_routes_file</span> <span class="arguments">()</span></h3>

<p>Generate the custom routes file that tells the platform how to route URL's.  This method is called automatically by this model's methods so likely does not need to be referenced directly.</p>
			</div>
		</div>
	</body>
</html>
<!-- /developers/reference-->