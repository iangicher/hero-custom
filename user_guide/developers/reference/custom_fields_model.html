<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<title>Custom Fields Model | Hero User Guide</title>
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
		<script type="text/javascript" src="./../../js/shCore.js"></script>
		<script type="text/javascript" src="./../../js/shBrushPhp.js"></script>
		<script type="text/javascript" src="./../../js/shBrushXml.js"></script>
		<script type="text/javascript" src="./../../js/user_guide.js"></script>
		<link href="./../../css/user_guide.css" media="screen" rel="stylesheet" type="text/css" />
		<link href="./../../css/shCore.css" media="screen" rel="stylesheet" type="text/css" />
		<link href="./../../css/shThemeDefault.css" media="screen" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<div class="header">
			Hero <span class="sub">/ User Guide</span>
		</div>
		<div class="body">
			<div id="navigation">
				<ul>
					<li>
						<a rel="basic" class="parent" href="#">Basic Details</a>
						<ul>
							<li>
								<a href="./../../index.html">Welcome to Hero</a>
							</li>
							<li>
								<a href="./../../license.html">License Agreement</a>
							</li>
							<li>
								<a href="./../../changelog.html">Changelog</a>
							</li>
						</ul>
					</li>
					<li>
						<a rel="installation" class="parent" href="#">Installation</a>
						<ul>
							<li>
								<a href="./../../installation/server_requirements.html">Server Requirements</a>
							</li>
							<li>
								<a href="./../../installation/installation.html">Fresh Installation</a>
							</li>
							<li>
								<a href="./../../installation/upgrading.html">Upgrading</a>
							</li>
							<li>
								<a href="./../../installation/migration.html">Migration</a>
							</li>
							<li>
								<a href="./../../installation/troubleshooting.html">Troubleshooting</a>
							</li>
							<li>
								<a href="./../../installation/deployment.html">Mass Deployment</a>
							</li>
						</ul>
					</li>
					<li>
						<a rel="configuration" class="parent" href="#">Configuration</a>
						<ul>
							<li>
								<a href="./../../configuration/settings.html">Settings</a>
							</li>
							<li>
								<a href="./../../configuration/coupon_codes.html">Coupon Codes</a>
							</li>
							<li>
								<a href="./../../configuration/branding.html">Custom Branding</a>
							</li>
							<li>
								<a href="./../../configuration/custom_fields.html">Custom Fields</a>
							</li>
							<li>
								<a href="./../../configuration/emails.html">Emails</a>
							</li>
							<li>
								<a href="./../../configuration/importing_members.html">Importing Members</a>
							</li>
							<li>
								<a href="./../../configuration/member_groups.html">Member Groups</a>
							</li>
							<li>
								<a href="./../../configuration/payment_gateways.html">Payment Gateways</a>
							</li>
							<li>
								<a href="./../../configuration/reports.html">Reports</a>
							</li>
							<li>
								<a href="./../../configuration/search.html">Search</a>
							</li>
							<li>
								<a href="./../../configuration/security.html">Security</a>
							</li>
							<li>
								<a href="./../../configuration/shipping.html">Shipping Rates</a>
							</li>
							<li>
								<a href="./../../configuration/subscriptions.html">Subscriptions</a>
							</li>
							<li>
								<a href="./../../configuration/taxes.html">Taxes</a>
							</li>
							<li>
								<a href="./../../configuration/advanced.html">Advanced</a>
							</li>
						</ul>
					</li>
					<li>
						<a rel="publishing" class="parent" href="#">Publishing</a>
						<ul>
							<li><a href="./../../publishing/blogs.html">Blogs</a></li>
							<li><a href="./../../publishing/content.html">Content &amp; Content Types</a></li>
							<li><a href="./../../publishing/forms.html">Forms</a></li>
							<li><a href="./../../publishing/menus.html">Navigation Menus</a></li>
							<li><a href="./../../publishing/rss_feeds.html">RSS Feeds</a></li>
							<li><a href="./../../publishing/store.html">Store Products &amp; Collections</a>
							<li><a href="./../../publishing/topics.html">Topics</a></li>
						</ul>
					</li>
					<li>
						<a rel="designers" class="parent" href="#">Designing</a>
						<ul>
							<li><a href="./../../designers/index.html">Designer Introduction</a></li>
							<li><a href="./../../designers/smarty.html">Smarty Template Engine</a></li>
							<li><a href="./../../designers/includes.html">Stylesheets &amp; JavaScript</a></li>
							<li><a href="./../../designers/template_plugins.html">Template Plugins</a></li>
							<li><a href="./../../designers/mapping_urls.html">Mapping URL's</a></li>
							<li class="reference">Reference</li>
							<li class="reference"><a href="./../../designers/reference/global_variables.html">Global Variables</a></li>
							<li class="reference"><a href="./../../designers/reference/global_plugins.html">Global Plugins</a></li>
							<li class="reference"><a href="./../../designers/reference/blogs.html">Blogs &amp; Archives</a></li>
							<li class="reference"><a href="./../../designers/reference/custom_fields.html">Custom Fields</a></li>
							<li class="reference"><a href="./../../designers/reference/forms.html">Forms</a></li>
							<li class="reference"><a href="./../../designers/reference/members.html">Members</a></li>
							<li class="reference"><a href="./../../designers/reference/menus.html">Navigation Menus</a></li>
							<li class="reference"><a href="./../../designers/reference/paywall_privileges.html">Access Restrictions &amp; Paywalls</a></li>
							<li class="reference"><a href="./../../designers/reference/publish.html">Published Content &amp; Topics</a></li>
							<li class="reference"><a href="./../../designers/reference/rss_feeds.html">RSS Feeds</a></li>
							<li class="reference"><a href="./../../designers/reference/search.html">Search Forms &amp; Results</a></li>
							<li class="reference"><a href="./../../designers/reference/store.html">Store Products &amp; Collections</a></li>
							<li class="reference"><a href="./../../designers/reference/subscriptions.html">Subscriptions</a></li>
							<li class="reference"><a href="./../../designers/reference/custom_fields.html">Custom Fields</a></li>
						</ul>
					</li>
					<li>
						<a rel="developers" class="parent active" href="#">Developing</a>
						<ul>
							<li><a href="./../../developers/index.html">Developer Introduction</a></li>
							<li><a href="./../../developers/codeigniter.html">CodeIgniter</a></li>
							<li><a href="./../../developers/standards.html">Standards &amp; Best Practices</a></li>
							<li><a href="./../../developers/security.html">Security</a></li>
							<li><a href="./../../developers/modules.html">Module Development</a></li>
							<li><a href="./../../developers/template_plugins.html">Template Plugin Development</a></li>
							<li><a href="./../../developers/cronjobs.html">Cronjobs &amp; Automated Processes</a></li>
							<li><a href="./../../developers/forms.html">Forms &amp; Custom Fieldtypes</a></li>
							<li><a href="./../../developers/errors_logging.html">Errors &amp; Logging</a></li>
							<li><a href="./../../developers/profiling.html">Debug/Profile Mode</a></li>
							<li class="reference">Reference</li>
							<li class="reference"><a href="./../../developers/reference/admin_form_library.html">Admin Form Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/admin_navigation_library.html">Admin Navigation Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/app_hooks_library.html">App Hooks Library</a></li>
							<li class="reference"><a href="./../../developers/reference/array_to_csv_library.html">Array to CSV Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/array_to_json_helper.html">Array to JSON Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/blog_model.html">Blog Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/cart_model.html">Cart Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/clean_string_helper.html">Clean String Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/collections_model.html">Collections Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/content_model.html">Content Model</a></li>
							<li class="reference"><a href="./../../developers/reference/content_type_model.html">Content Type Model</a></li>  
							<li class="reference"><a href="./../../developers/reference/coupon_model.html">Coupon Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/custom_fields_model.html">Custom Fields Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/dataset_library.html">Dataset Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/email_model.html">Email Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/fieldtype_library.html">Fieldtype Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/form_builder_library.html">Form Builder Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/form_model.html">Form Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/image_thumb_helper.html">Image Thumb Helper</a></li>
							<li class="reference"><a href="./../../developers/reference/invoice_model.html">Invoice Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/head_assets_library.html">Head Assets Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/link_model.html">Link Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/login_model.html">Login Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/menu_model.html">Menu Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/notices_library.html">Notices Library</a></li>
							<li class="reference"><a href="./../../developers/reference/order_model.html">Order Model</a></li>  
							<li class="reference"><a href="./../../developers/reference/products_model.html">Products Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/usergroup_model.html">Usergroup Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/product_option_model.html">Product Option Model</a></li>
							<li class="reference"><a href="./../../developers/reference/rss_model.html">RSS Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/setting_helper.html">Setting Helper</a></li>
							<li class="reference"><a href="./../../developers/reference/settings_model.html">Settings Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/shipping_model.html">Shipping Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/states_model.html">States Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/stats_library.html">Stats Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/subscription_model.html">Subscription Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/subscription_plan_model.html">Subscription Plan Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/taxes_model.html">Taxes Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/template_files_helper.html">Template Files Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/theme_model.html">Theme Model</a></li>
							<li class="reference"><a href="./../../developers/reference/time_since_helper.html">Time Since Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/topic_model.html">Topic Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/url_helper.html">URL Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/user_model.html">User Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/usergroup_model.html">Usergroup Model</a></li> 
						</ul>
						
					</li>
				</ul>
			</div>
			<div id="content">
				<h1>Custom Fields Model</h1>

<p>The custom fields model is used to create/update/delete custom field groups, as well as create/update/delete the custom fields that comprise those groups.  Custom fields are invoked throughout Hero, including in publishing content, customizing member profile date, customizing product data, etc.  For more information on their management, <a href="./../../configuration/custom_fields.html">click here for a guide on configuring custom fields</a>.</p>

<h2>Initialization</h2>

<p>Note that this model is <i>not</i> in the custom_fields' module folder; it is in the main <span class="filename">/app/models/</span> folder.</p>

<pre class="code brush: php">

$this-&gt;load-&gt;model('custom_fields_model');

</pre>

<h2>Method Reference</h2>

<h3 class="method"><span class="return_type">array</span> <span class="method_name">get_custom_field</span> <span class="arguments">(int <span class="variable">$custom_field_id</span>)</span></h3>

<p>Retrieve a configuration array for a specific custom field, referenced by ID.  This array is in the format of the arrays that make up the array returned by <span class="code">get_custom_fields()</span>.</p>

<h3 class="method"><span class="return_type">array</span> <span class="method_name">get_custom_fields</span> <span class="arguments">(array <span class="variable">$filters</span>)</span></h3>

<p>Retrieve an array of custom fields matching the filters, if filtered.  This array can be passed to the <a href="./../../developers/reference/form_builder_library.html">Form Builder library</a> to easily build control panel forms with a custom field group.</p>

<p>Possible filters:</p>

<ul>
<li><strong>group</strong> - An ID of a custom field group.</li>
<li><strong>id</strong> - An ID of a specific custom field.</li>
</ul>

<p>Each returned field array has the following keys:</p>

<ul>
<li><strong>id</strong></li>
<li><strong>group_id</strong></li>
<li><strong>friendly_name</strong> - The human-readable field name</li>
<li><strong>name</strong> - The system name, equivalent to the column name in the associated MySQL table, or the name of the actual HTML <span class="code">&lt;input&gt;</span> element.</li>
<li><strong>type</strong> - The fieldtype</li>
<li><strong>options</strong> - A possible array of potential values (for certain fieldtypes)</li>
<li><strong>help</strong> - Help text, if available</li>
<li><strong>width</strong> - Specified width, if available</li>
<li><strong>default</strong> - Default value(s), if available.  May be a serialized array of values depending on the fieldtype.</li>
<li><strong>required</strong> - TRUE if this field is required.</li>
<li><strong>validators</strong> - An array of <a href="http://codeigniter.com/user_guide/libraries/form_validation.html">CodeIgniter-standard form validators</a>, if available.</li>
<li><strong>data</strong> - An array of additional fieldtype data attributes, if available.</li>
</ul>

<h3 class="method"><span class="return_type">int</span> <span class="method_name">new_custom_field</span> <span class="arguments">(int <span class="variable">$group</span> , string <span class="variable">$name</span> , string <span class="variable">$type</span> [, string <span class="variable">$options</span> = array() [, string <span class="variable">$default</span> = '' [, string <span class="variable">$width</span> = '' [, string <span class="variable">$help</span> = '' [, boolean <span class="variable">$required</span> = FALSE [, array <span class="variable">$validators</span> = array() [, boolean <span class="variable">$db_table</span> = FALSE [, array <span class="variable">$data</span> = array()]]]]]]]])</span></h3>

<p>Create a new custom field in a specific custom field group.  The <span class="code">$name</span> passed will be used as the human-friendly "label" for the field.  However, a "system_name" will automatically be generated based on this field (processed with <a href="./../../developers/reference/clean_string_helper.html">the clean string helper</a>).</p>

<p>If a <span class="code">$db_table</span> is passed, a column will be created in this table with this "system_name".  The column's MySQL type (e.g., VARCHAR, TEXT) will be retrieved from the <a href="./../../developers/reference/fieldtype_library.html">fieldtype's definition</a>.</p>

<p>Returns the <span class="code">$custom_field_id</span>.</p>

<h3 class="method"><span class="return_type">boolean</span> <span class="method_name">update_custom_field</span> <span class="arguments">(int $custom_field_id, int <span class="variable">$group</span> , string <span class="variable">$name</span> , string <span class="variable">$type</span> [, string <span class="variable">$options</span> = array() [, string <span class="variable">$default</span> = '' [, string <span class="variable">$width</span> = '' [, string <span class="variable">$help</span> = '' [, boolean <span class="variable">$required</span> = FALSE [, array <span class="variable">$validators</span> = array() [, boolean <span class="variable">$db_table</span> = FALSE [, array <span class="variable">$data</span> = array()]]]]]]]])</span></h3>

<p>Update an existing custom field record.</p>

<p>If a <span class="code">$db_table</span> is passed, the column in the database table will be renamed.</p>

<h3 class="method"><span class="return_type">boolean</span> <span class="method_name">delete_custom_field</span> <span class="arguments">(int <span class="variable">$id</span> [, string <span class="variable">$db_table</span> = FALSE])</span></h3>

<p>Delete an existing custom field.  If a <span class="code">$db_table</span> is passed, the column that shares this field's "name" will be removed from the MySQL table.</p>

<h3 class="method"><span class="return_type">void</span> <span class="method_name">reset_order</span> <span class="arguments">(int <span class="variable">$custom_field_group</span>)</span></h3>

<p>When re-ordering custom fields in a group, it's standard procedure to call this method to reset the order across all fields prior to sorting.</p>

<h3 class="method"><span class="return_type">void</span> <span class="method_name">update_order</span> <span class="arguments">(int <span class="variable">$field_id</span> , int <span class="variable">$new_order</span>)</span></h3>

<p>Set the order (<span class="code">$new_order</span>) (e.g., "1", "2", "3", "4", ...) of a particular field.</p>

<h3 class="method"><span class="return_type">string</span> <span class="method_name">get_system_name</span> <span class="arguments">(int <span class="variable">$id</span>)</span></h3>

<p>Return the system/column/POST name of a field referenced by its custom field ID.</p>

<h3 class="method"><span class="return_type">int</span> <span class="method_name">new_group</span> <span class="arguments">(string <span class="variable">$name</span>)</span></h3>

<p>Create a new custom field group.  Returns the <span class="code">$custom_field_group_id</span>.</p>

<h3 class="method"><span class="return_type">void</span> <span class="method_name">delete_group</span> <span class="arguments">(int <span class="variable">$group_id</span> [, string <span class="variable">$db_table</span>] )</span></h3>

<p>Delete a custom field group (and all of its fields!).</p>
			</div>
		</div>
	</body>
</html>
<!-- /developers/reference-->