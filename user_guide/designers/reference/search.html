<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<title>Search Forms and Results | Hero User Guide</title>
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
		<script type="text/javascript" src="./../../js/shCore.js"></script>
		<script type="text/javascript" src="./../../js/shBrushPhp.js"></script>
		<script type="text/javascript" src="./../../js/shBrushXml.js"></script>
		<script type="text/javascript" src="./../../js/user_guide.js"></script>
		<link href="./../../css/user_guide.css" media="screen" rel="stylesheet" type="text/css" />
		<link href="./../../css/shCore.css" media="screen" rel="stylesheet" type="text/css" />
		<link href="./../../css/shThemeDefault.css" media="screen" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<div class="header">
			Hero <span class="sub">/ User Guide</span>
		</div>
		<div class="body">
			<div id="navigation">
				<ul>
					<li>
						<a rel="basic" class="parent" href="#">Basic Details</a>
						<ul>
							<li>
								<a href="./../../index.html">Welcome to Hero</a>
							</li>
							<li>
								<a href="./../../license.html">License Agreement</a>
							</li>
							<li>
								<a href="./../../changelog.html">Changelog</a>
							</li>
						</ul>
					</li>
					<li>
						<a rel="installation" class="parent" href="#">Installation</a>
						<ul>
							<li>
								<a href="./../../installation/server_requirements.html">Server Requirements</a>
							</li>
							<li>
								<a href="./../../installation/installation.html">Fresh Installation</a>
							</li>
							<li>
								<a href="./../../installation/upgrading.html">Upgrading</a>
							</li>
							<li>
								<a href="./../../installation/migration.html">Migration</a>
							</li>
							<li>
								<a href="./../../installation/troubleshooting.html">Troubleshooting</a>
							</li>
							<li>
								<a href="./../../installation/deployment.html">Mass Deployment</a>
							</li>
						</ul>
					</li>
					<li>
						<a rel="configuration" class="parent" href="#">Configuration</a>
						<ul>
							<li>
								<a href="./../../configuration/settings.html">Settings</a>
							</li>
							<li>
								<a href="./../../configuration/coupon_codes.html">Coupon Codes</a>
							</li>
							<li>
								<a href="./../../configuration/branding.html">Custom Branding</a>
							</li>
							<li>
								<a href="./../../configuration/custom_fields.html">Custom Fields</a>
							</li>
							<li>
								<a href="./../../configuration/emails.html">Emails</a>
							</li>
							<li>
								<a href="./../../configuration/importing_members.html">Importing Members</a>
							</li>
							<li>
								<a href="./../../configuration/member_groups.html">Member Groups</a>
							</li>
							<li>
								<a href="./../../configuration/payment_gateways.html">Payment Gateways</a>
							</li>
							<li>
								<a href="./../../configuration/reports.html">Reports</a>
							</li>
							<li>
								<a href="./../../configuration/search.html">Search</a>
							</li>
							<li>
								<a href="./../../configuration/security.html">Security</a>
							</li>
							<li>
								<a href="./../../configuration/shipping.html">Shipping Rates</a>
							</li>
							<li>
								<a href="./../../configuration/subscriptions.html">Subscriptions</a>
							</li>
							<li>
								<a href="./../../configuration/taxes.html">Taxes</a>
							</li>
							<li>
								<a href="./../../configuration/advanced.html">Advanced</a>
							</li>
						</ul>
					</li>
					<li>
						<a rel="publishing" class="parent" href="#">Publishing</a>
						<ul>
							<li><a href="./../../publishing/blogs.html">Blogs</a></li>
							<li><a href="./../../publishing/content.html">Content &amp; Content Types</a></li>
							<li><a href="./../../publishing/forms.html">Forms</a></li>
							<li><a href="./../../publishing/menus.html">Navigation Menus</a></li>
							<li><a href="./../../publishing/rss_feeds.html">RSS Feeds</a></li>
							<li><a href="./../../publishing/store.html">Store Products &amp; Collections</a>
							<li><a href="./../../publishing/topics.html">Topics</a></li>
						</ul>
					</li>
					<li>
						<a rel="designers" class="parent active" href="#">Designing</a>
						<ul>
							<li><a href="./../../designers/index.html">Designer Introduction</a></li>
							<li><a href="./../../designers/smarty.html">Smarty Template Engine</a></li>
							<li><a href="./../../designers/includes.html">Stylesheets &amp; JavaScript</a></li>
							<li><a href="./../../designers/template_plugins.html">Template Plugins</a></li>
							<li><a href="./../../designers/mapping_urls.html">Mapping URL's</a></li>
							<li class="reference">Reference</li>
							<li class="reference"><a href="./../../designers/reference/global_variables.html">Global Variables</a></li>
							<li class="reference"><a href="./../../designers/reference/global_plugins.html">Global Plugins</a></li>
							<li class="reference"><a href="./../../designers/reference/blogs.html">Blogs &amp; Archives</a></li>
							<li class="reference"><a href="./../../designers/reference/custom_fields.html">Custom Fields</a></li>
							<li class="reference"><a href="./../../designers/reference/forms.html">Forms</a></li>
							<li class="reference"><a href="./../../designers/reference/members.html">Members</a></li>
							<li class="reference"><a href="./../../designers/reference/menus.html">Navigation Menus</a></li>
							<li class="reference"><a href="./../../designers/reference/paywall_privileges.html">Access Restrictions &amp; Paywalls</a></li>
							<li class="reference"><a href="./../../designers/reference/publish.html">Published Content &amp; Topics</a></li>
							<li class="reference"><a href="./../../designers/reference/rss_feeds.html">RSS Feeds</a></li>
							<li class="reference"><a href="./../../designers/reference/search.html">Search Forms &amp; Results</a></li>
							<li class="reference"><a href="./../../designers/reference/store.html">Store Products &amp; Collections</a></li>
							<li class="reference"><a href="./../../designers/reference/subscriptions.html">Subscriptions</a></li>
							<li class="reference"><a href="./../../designers/reference/custom_fields.html">Custom Fields</a></li>
						</ul>
					</li>
					<li>
						<a rel="developers" class="parent" href="#">Developing</a>
						<ul>
							<li><a href="./../../developers/index.html">Developer Introduction</a></li>
							<li><a href="./../../developers/codeigniter.html">CodeIgniter</a></li>
							<li><a href="./../../developers/standards.html">Standards &amp; Best Practices</a></li>
							<li><a href="./../../developers/security.html">Security</a></li>
							<li><a href="./../../developers/modules.html">Module Development</a></li>
							<li><a href="./../../developers/template_plugins.html">Template Plugin Development</a></li>
							<li><a href="./../../developers/cronjobs.html">Cronjobs &amp; Automated Processes</a></li>
							<li><a href="./../../developers/forms.html">Forms &amp; Custom Fieldtypes</a></li>
							<li><a href="./../../developers/errors_logging.html">Errors &amp; Logging</a></li>
							<li><a href="./../../developers/profiling.html">Debug/Profile Mode</a></li>
							<li class="reference">Reference</li>
							<li class="reference"><a href="./../../developers/reference/admin_form_library.html">Admin Form Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/admin_navigation_library.html">Admin Navigation Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/app_hooks_library.html">App Hooks Library</a></li>
							<li class="reference"><a href="./../../developers/reference/array_to_csv_library.html">Array to CSV Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/array_to_json_helper.html">Array to JSON Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/blog_model.html">Blog Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/cart_model.html">Cart Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/clean_string_helper.html">Clean String Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/collections_model.html">Collections Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/content_model.html">Content Model</a></li>
							<li class="reference"><a href="./../../developers/reference/content_type_model.html">Content Type Model</a></li>  
							<li class="reference"><a href="./../../developers/reference/coupon_model.html">Coupon Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/custom_fields_model.html">Custom Fields Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/dataset_library.html">Dataset Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/email_model.html">Email Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/fieldtype_library.html">Fieldtype Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/form_builder_library.html">Form Builder Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/form_model.html">Form Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/image_thumb_helper.html">Image Thumb Helper</a></li>
							<li class="reference"><a href="./../../developers/reference/invoice_model.html">Invoice Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/head_assets_library.html">Head Assets Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/link_model.html">Link Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/login_model.html">Login Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/menu_model.html">Menu Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/notices_library.html">Notices Library</a></li>
							<li class="reference"><a href="./../../developers/reference/order_model.html">Order Model</a></li>  
							<li class="reference"><a href="./../../developers/reference/products_model.html">Products Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/usergroup_model.html">Usergroup Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/product_option_model.html">Product Option Model</a></li>
							<li class="reference"><a href="./../../developers/reference/rss_model.html">RSS Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/setting_helper.html">Setting Helper</a></li>
							<li class="reference"><a href="./../../developers/reference/settings_model.html">Settings Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/shipping_model.html">Shipping Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/states_model.html">States Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/stats_library.html">Stats Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/subscription_model.html">Subscription Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/subscription_plan_model.html">Subscription Plan Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/taxes_model.html">Taxes Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/template_files_helper.html">Template Files Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/theme_model.html">Theme Model</a></li>
							<li class="reference"><a href="./../../developers/reference/time_since_helper.html">Time Since Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/topic_model.html">Topic Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/url_helper.html">URL Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/user_model.html">User Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/usergroup_model.html">Usergroup Model</a></li> 
						</ul>
						
					</li>
				</ul>
			</div>
			<div id="content">
				<h1>Search Forms and Results</h1>

<p>Hero includes a <a href="./../../configuration/search.html">powerful search feature</a> that can perform a fulltext keyword search of all your site's content and store products.  Creating the search forms and customizing the results page is just as easy.</p>

<h2>Important URL's</h2>

<ul>
<li><span class="url">/search</span> - The search module is located here, and all search forms should send a GET request to this address.</li>
</ul>

<h2>Templates</h2>

<ul>
<li><span class="filename">search.thtml</span> All search results, and the default search form, are displayed with this template by default.</li>
</ul>

<h2>Creating Search Forms</h2>

<p>To create a search form, you need to setup a form with the following attributes:</p>

<ul>
<li>Form Action: <span class="code">{url path=&quot;search&quot;}</span></li>
<li>Form Method: <span class="code">GET</span></li>
<li>Search Field: <span class="code">&lt;input type=&quot;text&quot; name=&quot;q&quot; /&gt;</span></li>
</ul>

<p>Example:</p>

<pre class="code brush: php">

&lt;form action=&quot;{url path=&quot;search&quot;}&quot; method=&quot;GET&quot;&gt;
Search Query: &lt;input type=&quot;text&quot; name=&quot;q&quot; /&gt;&amp;nbsp;&amp;nbsp;&lt;input type=&quot;submit&quot; name=&quot;do_search&quot; value=&quot;Search&quot; /&gt;
&lt;/form&gt;

</pre>

<h2>Example Search Template</h2>

<pre class="code brush: xml">

{extends file=&quot;layout.thtml&quot;}
{block name=&quot;title&quot;}
{$title} - {$smarty.block.parent}
{/block}
{block name=&quot;content&quot;}
	&lt;h1&gt;{$title}&lt;/h1&gt;
	
	&lt;div id=&quot;search_form&quot;&gt;
	&lt;form method=&quot;get&quot; action=&quot;{url path=&quot;search&quot;}&quot; class=&quot;validate&quot;&gt;
	&lt;input id=&quot;query&quot; class=&quot;text mark_empty required&quot; rel=&quot;search keyword(s)&quot; name=&quot;q&quot; value=&quot;{if $query}{$query}{/if}&quot; /&gt;&amp;nbsp;&lt;input id=&quot;submit&quot; type=&quot;submit&quot; name=&quot;go&quot; value=&quot;Search&quot; /&gt;
	&lt;/form&gt;
	&lt;/div&gt;
	
	{if $searching == TRUE}
		&lt;div class=&quot;num_results&quot;&gt;{$num_results} Results&lt;/div&gt;
		
		{if $num_results == 0}
			&lt;p&gt;Your search did not return any results.&lt;/p&gt;
		{else}
			&lt;ul class=&quot;search_results&quot;&gt;
			{foreach $results as $result}
				{if $result.result_type == &quot;content&quot;}
					&lt;li&gt;
						&lt;a href=&quot;{$result.url}&quot;&gt;{$result.title}&lt;/a&gt;{if $result.relevance != 0} &lt;span class=&quot;relevance&quot;&gt;relevance: {$result.relevance}&lt;/span&gt;{/if}
						{if $result.summary}&lt;br /&gt;&lt;p&gt;{$result.summary}&lt;/p&gt;{/if}
					&lt;/li&gt;
				{elseif $result.result_type == &quot;product&quot;}
					&lt;li&gt;
						&lt;a href=&quot;{$result.url}&quot;&gt;{$result.name}&lt;/a&gt; {setting name=&quot;currency_symbol&quot;}&lt;span class=&quot;price&quot;&gt;{$result.price}&lt;/span&gt; &lt;span class=&quot;relevance&quot;&gt;relevance: {$result.relevance}&lt;/span&gt;
						{if $result.summary}&lt;br /&gt;&lt;p&gt;{$result.summary}&lt;/p&gt;{/if}
					&lt;/li&gt;
				{/if}
			{/foreach}
			&lt;/ul&gt;
			
			{$pagination}
		{/if}
	{else}
		&lt;p&gt;Enter your keyword(s) above to search {setting name=&quot;site_name&quot;}.&lt;/p&gt;
	{/if}
{/block}

</pre>

<h2>Search Template Variables</h2>

<p>The following variables are available in the <span class="filename">search.thtml</span> template.</p>

<table cellpadding="0" cellspacing="0">
	<thead>
		<tr class="title">
			<td colspan="3">Variables</td>
		</tr>
		<tr>
			<td class="variable_name">Variable</td>
			<td class="variable_description">Description</td>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><span class="code">{$search}</span></td>
			<td>If a GET/POST request with a "q" input field has been sent to this page, the module will automatically search.  This variable is set to TRUE if searching and FALSE if not.  If false, you should simply display a search form.</td>
		</tr>
		<tr>
			<td><span class="code">{$query}</span></td>
			<td>If searching, this variable stores the keyword(s) being used.</td>
		</tr>
		<tr>
			<td><span class="code">{$num_results}</span></td>
			<td>If searching, how many results were found?</td>
		</tr>
		<tr>
			<td><span class="code">{$results}</span></td>
			<td>If searching, this variable is an array of all matching items.  Set to FALSE if no results were found.  More information on the contents of this array is below, under "Search Result Variables".</td>
		</tr>
		<tr>
			<td><span class="code">{$pagination}</span></td>
			<td>If searching and the search results span multiple pages, this variable will contain a <span class="code">&lt;ul&gt;</span> list of pagination links.</td>
		</tr>
	</tbody>
</table>

<h2>Search Result Variables</h2>

<p>If a search has been made and there are results to display, the <span class="code">{$results}</span> variable contains the data for each result.  It is ordered from high -> low relevancy, so it can be displayed as is with a simple loop.</p>

<p>The following data is available for each search result item:</p>

<table cellpadding="0" cellspacing="0">
	<thead>
		<tr class="title">
			<td colspan="3">Variables</td>
		</tr>
		<tr>
			<td class="variable_name">Variable</td>
			<td class="variable_description">Description</td>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><span class="code">{$result_type}</span></td>
			<td>Either "content" or "product", depending on what type of result this matching item is.</td>
		</tr>
		<tr>
			<td colspan="2">If the <span class="code">{$result_type}</span> is a content item, all <a href="./../../designers/reference/publish.html">content item variables</a> are available.<br />
						    If the <span class="code">{$result_type}</span> is a product, all <a href="./../../designers/reference/store.html">store product variables</a> are available.<br />
						    You can see this switching in the example search results template on this page.</td>
		</tr>
		<tr>
			<td><span class="code">{$relevance}</span></td>
			<td>The relevance (e.g., "0.49914754") of the item to search keywords.  This is how the items are ranked, from highest to lowest.</td>
		</tr>
	</tbody>
</table>

			</div>
		</div>
	</body>
</html>
<!-- /designers/reference-->